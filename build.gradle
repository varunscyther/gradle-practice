buildscript {
    dependencies {
        classpath files('show-date/build/libs/show-date-1.0-SNAPSHOT.jar')
    }
}

plugins {
    id 'java'
}

group 'com.aircode'
version '1.0-SNAPSHOT'

project.sourceCompatibility = 1.8

project.repositories {
    mavenCentral()
}

project.dependencies {
    testCompile group: 'junit', name: 'junit', version: '4.12'
    compile project(':json-display')
}

apply plugin: 'project-report'

buildDir = 'myBuild'

task publishDate {
    dependsOn build
    group = 'my tasks'
    description = 'Show current date'
    doLast {
        println ''
        println 'Show Current Date ' + new Date()
        println ''
    }
}

class DisplayDate extends DefaultTask {

    String dataMessage = "Date and Time is : "

    @TaskAction
    void displayDate() {
        println dataMessage + new Date()
    }
}

task displayDate(type: DisplayDate)

task customDisplayDate(type: DisplayDate) {
    dataMessage = "Current Date and Time is : "
}

apply plugin: 'show-date-plugin'

